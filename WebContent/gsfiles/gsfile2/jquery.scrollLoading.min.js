(function(n){n.fn.scrollLoading=function(t){var i=n.extend({},{attr:"data-url"},t||{}),r;i.cache=[];n(this).each(function(){var u=this.nodeName.toLowerCase(),t=n(this).attr(i.attr),r;t&&(r={obj:n(this),tag:u,url:t},i.cache.push(r))});r=function(){var t=n(window).scrollTop(),r=t+n(window).height();return n.each(i.cache,function(n,i){var u=i.obj,e=i.tag,f=i.url;u&&(post=u.position().top,post<10&&(post=u.offset().top),posb=post+u.height(),(post>t&&post<r||posb>t&&posb<r)&&(e==="img"?u.attr("src",f):e=="iframe"?u.attr("src",f):e=="span"?eval(f):u.load(f),i.obj=null))}),!1};r();n(window).bind("scroll",r)}})(jQuery);
function JqMouseEvent(n){this.x=n.pageX;this.y=n.pageY}(function(n){n.fn.jqueryzoom=function(t){var i={xzoom:500,yzoom:500,offset:10,position:"right",lens:1,preload:1},r;t&&n.extend(i,t);r="";n(this).hover(function(){$this=n(this);var f=window.location.host,e=n(this).attr("href"),t=new Image,u=e;u=u.indexOf("http://")>=0?u:"http://"+f+u;t.src=u;t.onload=function(){var s;if(t.complete==!0){if(t.width<357||t.height<357)return;var u=$this.offset().left,e=$this.offset().top,f=$this.get(0).offsetWidth,o=$this.get(0).offsetHeight;r=$this.children("img").attr("alt");s=$this.children("img").attr("jqimg");n(this).children("img").attr("alt",r);n("div.zoomdiv").get().length==0&&(n("body").append("<div class='zoomdiv'><img class='bigimg' src='"+s+"'/><\/div>"),n("div.jqZoomPup").show());i.position=="right"?leftpos=u+f+i.offset+i.xzoom>screen.width?u-i.offset-i.xzoom:u+f+i.offset:(leftpos=u-i.xzoom-i.offset,leftpos<0&&(leftpos=u+f+i.offset));n("div.zoomdiv").css({top:e,left:leftpos});n("div.zoomdiv").width(i.xzoom);n("div.zoomdiv").height(i.yzoom);n("div.zoomdiv").show();i.lens||$this.css("cursor","crosshair");n(document.body).mousemove(function(t){var s,r;mouse=new JqMouseEvent(t);var h=n(".zoomdiv").find("img").get(0).offsetWidth,c=n(".zoomdiv").find("img").get(0).offsetHeight,r="x",s="y";isNaN(s)|isNaN(r)&&(s=h/f,r=c/o,n("div.jqZoomPup").width(i.xzoom/s),n("div.jqZoomPup").height(i.yzoom/r),i.lens&&n("div.jqZoomPup").css("visibility","visible"));xpos=mouse.x-n("div.jqZoomPup").width()/2-u;ypos=mouse.y-n("div.jqZoomPup").height()/2-e;i.lens&&(xpos=mouse.x-n("div.jqZoomPup").width()/2<u?0:mouse.x+n("div.jqZoomPup").width()/2>f+u?f-n("div.jqZoomPup").width()-2:xpos,ypos=mouse.y-n("div.jqZoomPup").height()/2<e?0:mouse.y+n("div.jqZoomPup").height()/2>o+e?o-n("div.jqZoomPup").height()-2:ypos);i.lens&&n("div.jqZoomPup").css({top:ypos,left:xpos});scrolly=ypos;n("div.zoomdiv").get(0).scrollTop=scrolly*r;scrollx=xpos;n("div.zoomdiv").get(0).scrollLeft=scrollx*s})}}},function(){n(this).children("img").attr("alt",r);n(document.body).unbind("mousemove");i.lens&&n("div.jqZoomPup").hide();n("div.zoomdiv").remove()});count=0;i.preload&&(n("body").append("<div style='display:none;' class='jqPreload"+count+"'>sdsdssdsd<\/div>"),n(this).each(function(){var t=n(this).children("img").attr("jqimg"),i=jQuery("div.jqPreload"+count+"").html();jQuery("div.jqPreload"+count+"").html(i+'<img src="'+t+'">')}))}})(jQuery);